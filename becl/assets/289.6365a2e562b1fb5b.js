"use strict";(self.webpackChunkufps_becl_app=self.webpackChunkufps_becl_app||[]).push([[289],{6085:(f,g,s)=>{s.d(g,{n:()=>d});var e=s(5e3),v=s(4742);let h=(()=>{class o{constructor(n){this.authService=n,this.authService.currentUser.subscribe(c=>{this.permissions=c.user_permissions})}hasPermission(n){return this.checkPermission(n.data.permission)}checkPermission(n){return this.permissions.some(c=>c.codename===n)}}return o.\u0275fac=function(n){return new(n||o)(e.LFG(v.e))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=s(1083);let d=(()=>{class o{constructor(n,c,u){this.authService=n,this.permissionService=c,this.router=u}canActivate(n,c){return this.checkPermission(n,c)}checkPermission(n,c){return!!this.permissionService.hasPermission(n)||(this.authService.logout(),this.router.navigateByUrl("/not-found/page-401"),!1)}}return o.\u0275fac=function(n){return new(n||o)(e.LFG(v.e),e.LFG(h),e.LFG(p.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},8386:(f,g,s)=>{s.d(g,{K:()=>m});var e=s(2843),v=s(4004),h=s(262),p=s(1261),d=s(5e3),o=s(520);let m=(()=>{class n{constructor(u){this.http=u,this.URL=`${p.N.baseUrlUser}profile/`,this.currentUser=localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}userProfile(){return this.http.get(this.URL).pipe((0,v.U)(u=>(this.currentUser=u,this.currentUser.picture=this.currentUser.picture?this.currentUser.picture:"assets/img/profile.jpg",localStorage.setItem("currentUser",JSON.stringify(this.currentUser)),u)),(0,h.K)(this.handleError))}handleError(u){return(0,e._)(()=>u)}}return n.\u0275fac=function(u){return new(u||n)(d.LFG(o.eN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},489:(f,g,s)=>{s.d(g,{p:()=>q});var e=s(5e3);let v=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:0,consts:[[1,"logo-header"],["href","index.html",1,"logo"],["src","/assets/img/logoazzara.svg","alt","navbar brand",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","collapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","sidenav-toggler","ml-auto"],[1,"navbar-toggler-icon"],[1,"fa","fa-bars"],[1,"topbar-toggler","more"],[1,"fa","fa-ellipsis-v"],[1,"navbar-minimize"],[1,"btn","btn-minimize","btn-rounded"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"button",3)(4,"span",4),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"button",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"div",8)(9,"button",9),e._UZ(10,"i",5),e.qZA()()())},encapsulation:2}),r})();var h=s(8602),p=s(4742),d=s(8386),o=s(1083);let m=(()=>{class r{constructor(t,i,l){this.socialAuthService=t,this.authService=i,this.userService=l}ngOnInit(){this.currentUser=this.userService.currentUser}logOut(){this.socialAuthService.signOut(),this.authService.logout(),window.location.reload()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.xE),e.Y36(p.e),e.Y36(d.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-navbar"]],decls:27,vars:6,consts:[[1,"navbar","navbar-header","navbar-expand-lg"],[1,"container-fluid"],[1,"navbar-nav","topbar-nav","ml-md-auto","align-items-center"],[1,"nav-item","dropdown","hidden-caret"],["data-toggle","dropdown","href","#","aria-expanded","false",1,"dropdown-toggle","profile-pic"],[1,"avatar-sm"],[1,"avatar-img","rounded-circle",3,"src","alt"],[1,"dropdown-menu","dropdown-user","animated","fadeIn"],[1,"user-box"],[1,"avatar-lg"],[1,"avatar-img","rounded",3,"src","alt"],[1,"u-text"],[1,"text-muted"],[1,"dropdown-divider"],["routerLink","../account/profile",1,"dropdown-item"],["routerLink","../account/settings",1,"dropdown-item"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div",5),e._UZ(6,"img",6),e.qZA()(),e.TgZ(7,"ul",7)(8,"li")(9,"div",8)(10,"div",9),e._UZ(11,"img",10),e.qZA(),e.TgZ(12,"div",11)(13,"h4"),e._uU(14),e.qZA(),e.TgZ(15,"p",12),e._uU(16),e.qZA()()()(),e.TgZ(17,"li"),e._UZ(18,"div",13),e.TgZ(19,"a",14),e._uU(20,"Perfil"),e.qZA(),e._UZ(21,"div",13),e.TgZ(22,"a",15),e._uU(23,"Ajustes"),e.qZA(),e._UZ(24,"div",13),e.TgZ(25,"a",16),e.NdJ("click",function(){return i.logOut()}),e._uU(26,"Cerrar Sesi\xf3n"),e.qZA()()()()()()()),2&t&&(e.xp6(6),e.s9C("alt",i.currentUser.username),e.Q6J("src",i.currentUser.picture,e.LSH),e.xp6(5),e.s9C("alt",i.currentUser.username),e.Q6J("src",i.currentUser.picture,e.LSH),e.xp6(3),e.Oqu(i.currentUser.first_name),e.xp6(2),e.Oqu(i.currentUser.email))},directives:[o.yS],encapsulation:2}),r})();var n=s(7579),c=s(2722);let u=(()=>{class r{constructor(t,i,l){this.templateRef=t,this.viewContainer=i,this.authService=l,this.unsubscribe$=new n.x}ngOnInit(){this.authService.currentUser.pipe((0,c.R)(this.unsubscribe$)).subscribe(t=>{this.currentUser=t,this.updateView()})}set appPermissions(t){this.permissions=t,this.updateView()}updateView(){this.currentUser&&this.hasPermissions()?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()}hasPermissions(){const t=this.authService.isLoggedIn(),i=this.permissions.every(l=>this.authService.checkPermission(l));return t&&i}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(p.e))},r.\u0275dir=e.lG2({type:r,selectors:[["","appPermissions",""]],inputs:{appPermissions:"appPermissions"}}),r})();var Z=s(9808);function _(r,a){1&r&&(e.TgZ(0,"li",24)(1,"a",25),e._UZ(2,"i",26),e.TgZ(3,"p"),e._uU(4,"Tablero"),e.qZA()()())}function U(r,a){1&r&&(e.TgZ(0,"li",24)(1,"a",27),e._UZ(2,"i",28),e.TgZ(3,"p"),e._uU(4,"Lockers"),e.qZA()()())}function b(r,a){1&r&&(e.TgZ(0,"a",35)(1,"span",36),e._uU(2,"Entrada"),e.qZA()())}function T(r,a){1&r&&(e.TgZ(0,"a",37)(1,"span",36),e._uU(2,"Salida"),e.qZA()())}const A=function(){return["reader_qr_entrance"]},S=function(){return["reader_qr_exit"]};function C(r,a){1&r&&(e.TgZ(0,"li",24)(1,"a",29),e._UZ(2,"i",30),e.TgZ(3,"p"),e._uU(4,"Carnets"),e.qZA(),e._UZ(5,"span",10),e.qZA(),e.TgZ(6,"div",31)(7,"ul",32)(8,"li"),e.YNc(9,b,3,0,"a",33),e.qZA(),e.TgZ(10,"li"),e.YNc(11,T,3,0,"a",34),e.qZA()()()()),2&r&&(e.xp6(9),e.Q6J("appPermissions",e.DdM(2,A)),e.xp6(2),e.Q6J("appPermissions",e.DdM(3,S)))}function P(r,a){1&r&&(e.TgZ(0,"li",24)(1,"a",38),e._UZ(2,"i",39),e.TgZ(3,"p"),e._uU(4,"Usuarios"),e.qZA()()())}const L=function(){return["dashboard"]},x=function(){return["locker"]},k=function(){return["user_list"]};let y=(()=>{class r{constructor(t,i,l){this.socialAuthService=t,this.authService=i,this.userService=l,this.isCarnetsEnabled=!1}ngOnInit(){this.isCarnetsEnabled=this.authService.checkPermission("reader_qr_entrance")||this.authService.checkPermission("reader_qr_exit"),this.currentUser=this.userService.currentUser}logOut(){this.socialAuthService.signOut(),this.authService.logout(),window.location.reload()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.xE),e.Y36(p.e),e.Y36(d.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sidebar"]],decls:39,vars:10,consts:[[1,"sidebar"],[1,"sidebar-background"],[1,"sidebar-wrapper","scrollbar-inner"],[1,"sidebar-content"],[1,"user"],[1,"avatar-sm","float-left","mr-2"],[1,"avatar-img","rounded-circle",3,"src","alt"],[1,"info"],["data-toggle","collapse","href","#collapseExample","aria-expanded","true"],[1,"user-level"],[1,"caret"],[1,"clearfix"],["id","collapseExample",1,"collapse","in"],[1,"nav"],["routerLink","../account/profile"],[1,"link-collapse"],["routerLink","../account/settings"],[2,"cursor","pointer",3,"click"],["routerLinkActive","active","class","nav-item",4,"appPermissions"],[1,"nav-section"],[1,"sidebar-mini-icon"],[1,"fa","fa-ellipsis-h"],[1,"text-section"],["routerLinkActive","active","class","nav-item",4,"ngIf"],["routerLinkActive","active",1,"nav-item"],["routerLink","../admin/dashboard"],[1,"fas","fa-home"],["routerLink","../lockers/lockers"],[1,"fas","fa-columns"],["data-toggle","collapse","href","#base"],[1,"fas","fa-id-card"],["id","base",1,"collapse"],[1,"nav","nav-collapse"],["routerLink","../in-out/qr-input",4,"appPermissions"],["routerLink","../in-out/qr-output",4,"appPermissions"],["routerLink","../in-out/qr-input"],[1,"sub-item"],["routerLink","../in-out/qr-output"],["routerLink","../users/users-list"],[1,"fas","fa-user-friends"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7)(8,"a",8)(9,"span"),e._uU(10),e.TgZ(11,"span",9),e._uU(12,"Administrator"),e.qZA(),e._UZ(13,"span",10),e.qZA()(),e._UZ(14,"div",11),e.TgZ(15,"div",12)(16,"ul",13)(17,"li")(18,"a",14)(19,"span",15),e._uU(20,"Perfil"),e.qZA()()(),e.TgZ(21,"li")(22,"a",16)(23,"span",15),e._uU(24,"Ajustes"),e.qZA()()(),e.TgZ(25,"li")(26,"a",17),e.NdJ("click",function(){return i.logOut()}),e.TgZ(27,"span",15),e._uU(28,"Cerrar Sesi\xf3n"),e.qZA()()()()()()(),e.TgZ(29,"ul",13),e.YNc(30,_,5,0,"li",18),e.TgZ(31,"li",19)(32,"span",20),e._UZ(33,"i",21),e.qZA(),e.TgZ(34,"h4",22),e._uU(35,"Modulos"),e.qZA()(),e.YNc(36,U,5,0,"li",18),e.YNc(37,C,12,4,"li",23),e.YNc(38,P,5,0,"li",18),e.qZA()()()()),2&t&&(e.xp6(6),e.s9C("alt",i.currentUser.username),e.Q6J("src",i.currentUser.picture,e.LSH),e.xp6(4),e.hij(" ",i.currentUser.first_name," "),e.xp6(20),e.Q6J("appPermissions",e.DdM(7,L)),e.xp6(6),e.Q6J("appPermissions",e.DdM(8,x)),e.xp6(1),e.Q6J("ngIf",i.isCarnetsEnabled),e.xp6(1),e.Q6J("appPermissions",e.DdM(9,k)))},directives:[o.yS,u,o.Od,Z.O5],encapsulation:2}),r})(),O=(()=>{class r{constructor(){this.anio=(new Date).getFullYear()}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-footer"]],decls:17,vars:1,consts:[[1,"footer"],[1,"container-fluid"],[1,"pull-left"],[1,"nav"],[1,"nav-item"],["href","https://www.themekita.com",1,"nav-link"],["href","#",1,"nav-link"],[1,"copyright","ml-auto"],["href","#"]],template:function(t,i){1&t&&(e.TgZ(0,"footer",0)(1,"div",1)(2,"nav",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6," Nigth Devs "),e.qZA()(),e.TgZ(7,"li",4)(8,"a",6),e._uU(9," Help "),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12," Licenses "),e.qZA()()()(),e.TgZ(13,"div",7),e._uU(14),e.TgZ(15,"a",8),e._uU(16,"Nigth Devs"),e.qZA()()()()),2&t&&(e.xp6(14),e.hij(" ",i.anio," \xa9 All Rights Reserved. Desarrollado por: "))},encapsulation:2}),r})(),q=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-layout"]],decls:10,vars:0,consts:[[1,"wrapper"],["data-background-color","orange",1,"main-header"],[1,"main-panel"],[1,"content"],[1,"page-inner"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-header")(3,"app-navbar"),e.qZA(),e._UZ(4,"app-sidebar"),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4),e._UZ(8,"router-outlet"),e.qZA()(),e._UZ(9,"app-footer"),e.qZA()())},directives:[v,m,y,o.lC,O],encapsulation:2}),r})()}}]);