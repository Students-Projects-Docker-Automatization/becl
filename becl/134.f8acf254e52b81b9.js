"use strict";(self.webpackChunkufps_becl_app=self.webpackChunkufps_becl_app||[]).push([[134],{5134:(O,c,n)=>{n.r(c),n.d(c,{InOutModule:()=>U});var a=n(9808),m=n(1083),d=n(489),t=n(5e3),g=n(1261),f=n(520);let l=(()=>{class s{constructor(e){this.http=e,this.URL=`${g.N.baseUrlEntrance}`}getConfirmEntrance(e){return this.http.post(`${this.URL}confirm_entrance/`,JSON.stringify(e))}getConfirmExit(e){return this.http.post(`${this.URL}confirm_exit/`,JSON.stringify(e))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(f.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var p=n(3364);let v=(()=>{class s{constructor(e,i,u,o){this.inOutService=e,this.usersService=i,this._renderer2=u,this._document=o,this.style=this._renderer2.createElement("style"),this.obj={},this.user={},this.obj.token="",this.setDefault()}ngOnInit(){this.style.innerHTML="\n      body {\n        background-image: url('assets/img/in-out/fondo.svg');\n        background-color: white;\n        background-repeat: no-repeat;\n        background-size: cover;\n      }\n\n      .titulo {\n        font-size: 10em !important;\n        font-family: 'Roboto', sans-serif !important;\n        color: white !important;\n        text-align: center !important;\n        margin-top: 20px !important;\n        margin-bottom: 20px !important;\n      }\n\n      .userData{\n        color: #A81F2B;\n        font-size: 1.5em !important;\n      }\n\n      .input{\n        text-align: center\n      }\n\n      .ufps{\n        width: 100%;\n        height: 100%;\n      }\n\n      .qrUFPS{\n        width: 200px;\n        height: 200px;\n      }\n\n      .margin{\n        margin-top: 150px;\n      }\n        ",this._renderer2.appendChild(this._document.head,this.style)}ngOnDestroy(){this._renderer2.removeChild(this._document.head,this.style)}onChange(e){this.obj.token=e.target.value,this.onSubmit(),document.getElementById("qrInput").value=""}onSubmit(){this.inOutService.getConfirmEntrance(this.obj).subscribe(e=>{this.usersService.getUser(e.user_id).subscribe(i=>{this.user.code=i.id,this.user.fullName=i.first_name+" "+i.last_name,this.user.photo=i.picture.split("=")[0],this.user.program=i.program.name,this.user.status=i.is_active?"Activo":"Inactivo"})}),this.setTimeout()}setTimeout(){setTimeout(()=>{this.setDefault()},1e4)}setDefault(){this.user.code="----",this.user.fullName="----",this.user.photo="assets/img/in-out/icons/userProfile.svg",this.user.program="----",this.user.status="----"}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l),t.Y36(p.f),t.Y36(t.Qsj),t.Y36(a.K0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-qr-input"]],decls:33,vars:5,consts:[[1,"container"],[1,"row","mt-5"],[1,"titulo","w-100"],["type","text","id","qrInput","placeholder","Escanear Codigo QR","autocomplete","off","autofocus","",1,"input","form-control","d-flex","justify-content-center",3,"change"],[1,"row","margin"],[1,"col-md-4","col-sm-12","d-flex","justify-content-center","align-items-center"],["alt","foto de perfil",1,"img-fluid","rounded-circle",3,"src"],[1,"col"],[1,"table-responsive"],[1,"table","table-borderless","table-hover"],["src","assets/img/in-out/icons/userId.svg","alt","User ID"],[1,"userData"],["src","assets/img/in-out/icons/userName.svg","alt","User Name"],["src","assets/img/in-out/icons/userUniversity.svg","alt","User University"],["src","assets/img/in-out/icons/userStatus.svg","alt","User Status"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Bienvenido"),t.qZA()(),t.TgZ(4,"div",1)(5,"input",3),t.NdJ("change",function(o){return i.onChange(o)}),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t._UZ(8,"img",6),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"tbody")(13,"tr")(14,"th"),t._UZ(15,"img",10),t.qZA(),t.TgZ(16,"td",11),t._uU(17),t.qZA()(),t.TgZ(18,"tr")(19,"th"),t._UZ(20,"img",12),t.qZA(),t.TgZ(21,"td",11),t._uU(22),t.qZA()(),t.TgZ(23,"tr")(24,"th"),t._UZ(25,"img",13),t.qZA(),t.TgZ(26,"td",11),t._uU(27),t.qZA()(),t.TgZ(28,"tr")(29,"th"),t._UZ(30,"img",14),t.qZA(),t.TgZ(31,"td",11),t._uU(32),t.qZA()()()()()()()()),2&e&&(t.xp6(8),t.s9C("src",i.user.photo,t.LSH),t.xp6(9),t.Oqu(i.user.code),t.xp6(5),t.Oqu(i.user.fullName),t.xp6(5),t.Oqu(i.user.program),t.xp6(5),t.Oqu(i.user.status))},styles:[""]}),s})(),Z=(()=>{class s{constructor(e,i,u,o){this.inOutService=e,this.usersService=i,this._renderer2=u,this._document=o,this.style=this._renderer2.createElement("style"),this.obj={},this.user={},this.obj.token="",this.setDefault()}ngOnInit(){this.style.innerHTML="\n      body {\n        background-image: url('assets/img/in-out/fondo.svg');\n        background-color: white;\n        background-repeat: no-repeat;\n        background-size: cover;\n      }\n\n      .titulo {\n        font-size: 10em !important;\n        font-family: 'Roboto', sans-serif !important;\n        color: white !important;\n        text-align: center !important;\n        margin-top: 20px !important;\n        margin-bottom: 20px !important;\n      }\n\n      .userData{\n        color: #A81F2B;\n        font-size: 1.5em !important;\n      }\n\n      .input{\n        text-align: center\n      }\n\n      .ufps{\n        width: 100%;\n        height: 100%;\n      }\n\n      .qrUFPS{\n        width: 200px;\n        height: 200px;\n      }\n\n      .margin{\n        margin-top: 150px;\n      }\n        ",this._renderer2.appendChild(this._document.head,this.style)}ngOnDestroy(){this._renderer2.removeChild(this._document.head,this.style)}onChange(e){this.obj.token=e.target.value,this.onSubmit(),document.getElementById("qrOutput").value=""}onSubmit(){this.inOutService.getConfirmExit(this.obj).subscribe(e=>{this.usersService.getUser(e.user_id).subscribe(i=>{this.user.code=i.id,this.user.fullName=i.first_name+" "+i.last_name,this.user.photo=i.picture.split("=")[0],this.user.program=i.program.name,this.user.status=i.is_active?"Activo":"Inactivo"})}),this.setTimeout()}setTimeout(){setTimeout(()=>{this.setDefault()},1e4)}setDefault(){this.user.code="----",this.user.fullName="----",this.user.photo="assets/img/in-out/icons/userProfile.svg",this.user.program="----",this.user.status="----"}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l),t.Y36(p.f),t.Y36(t.Qsj),t.Y36(a.K0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-qr-output"]],decls:33,vars:5,consts:[[1,"container"],[1,"row","mt-5"],[1,"titulo","w-100"],["type","text","id","qrOutput","placeholder","Escanear Codigo QR","autocomplete","off","autofocus","",1,"input","form-control","d-flex","justify-content-center",3,"change"],[1,"row","margin"],[1,"col-md-4","col-sm-12","d-flex","justify-content-center","align-items-center"],["alt","foto de perfil",1,"img-fluid","rounded-circle",3,"src"],[1,"col"],[1,"table-responsive"],[1,"table","table-borderless","table-hover"],["src","assets/img/in-out/icons/userId.svg","alt","User ID"],[1,"userData"],["src","assets/img/in-out/icons/userName.svg","alt","User Name"],["src","assets/img/in-out/icons/userUniversity.svg","alt","User University"],["src","assets/img/in-out/icons/userStatus.svg","alt","User Status"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Bienvenido"),t.qZA()(),t.TgZ(4,"div",1)(5,"input",3),t.NdJ("change",function(o){return i.onChange(o)}),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t._UZ(8,"img",6),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"tbody")(13,"tr")(14,"th"),t._UZ(15,"img",10),t.qZA(),t.TgZ(16,"td",11),t._uU(17),t.qZA()(),t.TgZ(18,"tr")(19,"th"),t._UZ(20,"img",12),t.qZA(),t.TgZ(21,"td",11),t._uU(22),t.qZA()(),t.TgZ(23,"tr")(24,"th"),t._UZ(25,"img",13),t.qZA(),t.TgZ(26,"td",11),t._uU(27),t.qZA()(),t.TgZ(28,"tr")(29,"th"),t._UZ(30,"img",14),t.qZA(),t.TgZ(31,"td",11),t._uU(32),t.qZA()()()()()()()()),2&e&&(t.xp6(8),t.s9C("src",i.user.photo,t.LSH),t.xp6(9),t.Oqu(i.user.code),t.xp6(5),t.Oqu(i.user.fullName),t.xp6(5),t.Oqu(i.user.program),t.xp6(5),t.Oqu(i.user.status))},styles:[""]}),s})();var h=n(6085);const y=[{path:"",component:d.p,children:[{path:"qr-input",component:v,canActivate:[h.n],data:{title:"QR Input",permission:"reader_qr_entrance"}},{path:"qr-output",component:Z,canActivate:[h.n],data:{title:"QR Output",permission:"reader_qr_exit"}},{path:"**",redirectTo:"qr-input",pathMatch:"full"}]}];let b=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),s})(),U=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[a.ez,b]]}),s})()}}]);