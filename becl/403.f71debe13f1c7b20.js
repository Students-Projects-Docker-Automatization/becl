"use strict";(self.webpackChunkufps_becl_app=self.webpackChunkufps_becl_app||[]).push([[403],{403:(pt,u,s)=>{s.r(u),s.d(u,{UsersModule:()=>et});var c=s(9808),p=s(1083),C=s(489),U=s(7579),g=s(2722),f=s(8825),l=s(4847),a=s(4999),t=s(5e3),Z=s(3364),d=s(7322),T=s(7531),x=s(7423),v=s(5245);function L(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){return t.CHM(n),t.oxw().clearFilter()}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function y(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1," No. "),t.qZA())}function A(e,o){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function D(e,o){1&e&&t._UZ(0,"th",28)}function N(e,o){if(1&e&&(t.TgZ(0,"td",29),t._UZ(1,"img",30),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.s9C("alt",n.first_name),t.Q6J("src",n.picture,t.LSH)}}function S(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1," Nombres "),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.first_name," ")}}function Q(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1," Apellidos "),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.last_name," ")}}function M(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1," Email "),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function B(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1," Estado "),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.is_active?"Activo":"Inactivo"," ")}}function F(e,o){1&e&&(t.TgZ(0,"th",26),t._uU(1," Programa "),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",null!==n.program?n.program.name:"-"," ")}}function O(e,o){1&e&&(t.TgZ(0,"th",28),t._uU(1," Actions "),t.qZA())}function $(e,o){1&e&&(t.TgZ(0,"td",27)(1,"button",31)(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",32)(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()())}function j(e,o){1&e&&(t.TgZ(0,"td",33),t._uU(1," Loading data... "),t.qZA())}function E(e,o){1&e&&(t.TgZ(0,"td",33),t._uU(1," No data found. "),t.qZA())}function q(e,o){1&e&&t._UZ(0,"tr",34)}function z(e,o){1&e&&t._UZ(0,"tr",35)}const h=function(e){return{hidden:e}};function H(e,o){if(1&e&&t._UZ(0,"tr",36),2&e){const n=t.oxw();t.Q6J("ngClass",t.VKq(1,h,void 0!==n.dataSource))}}function k(e,o){if(1&e&&t._UZ(0,"tr",36),2&e){const n=t.oxw();t.Q6J("ngClass",t.VKq(1,h,!(void 0!==n.dataSource&&0==n.dataSource.data.length)))}}const I=function(){return["loading"]},P=function(){return["noData"]},G=function(){return[5,10,15,20]};let K=(()=>{class e{constructor(n){this.usersService=n,this.displayedColumns=["id","picture","first_name","last_name","email","is_active","program","actions"],this.unsubscribe$=new U.x}ngOnInit(){this.usersService.getUsers().pipe((0,g.R)(this.unsubscribe$)).subscribe(n=>{let i=n.map(({id:r,username:m,first_name:nt,last_name:ot,email:st,picture:at,is_active:it,is_staff:rt,is_superuser:ct,program:lt,groups:mt,user_permissions:ut})=>({id:r,username:m,first_name:nt,last_name:ot,email:st,picture:at,is_active:it,is_staff:rt,is_superuser:ct,program:lt,groups:mt,user_permissions:ut}));console.log({users:i}),this.dataSource=new a.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}clearFilter(){this.dataSource.filter=""}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-list"]],viewQuery:function(n,i){if(1&n&&(t.Gf(f.NW,5),t.Gf(l.YE,5)),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first),t.iGM(r=t.CRH())&&(i.sort=r.first)}},decls:39,vars:11,consts:[[1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"keyup"],["input",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","picture"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","avatar-sm",4,"matCellDef"],["matColumnDef","first_name"],["matColumnDef","last_name"],["matColumnDef","email"],["matColumnDef","is_active"],["matColumnDef","program"],["matColumnDef","actions"],["matColumnDef","loading"],["mat-footer-cell","","colspan","8",4,"matFooterCellDef"],["matColumnDef","noData"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions","pageSize"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"avatar-sm"],[1,"avatar-img","rounded-circle",3,"src","alt"],["mat-icon-button",""],["mat-icon-button","","color","warn"],["mat-footer-cell","","colspan","8"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",0)(1,"input",1,2),t.NdJ("keyup",function(m){return i.applyFilter(m)}),t.qZA(),t.YNc(3,L,3,0,"button",3),t.qZA(),t.TgZ(4,"div",4)(5,"table",5),t.ynx(6,6),t.YNc(7,y,2,0,"th",7),t.YNc(8,A,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,D,1,0,"th",10),t.YNc(11,N,2,2,"td",11),t.BQk(),t.ynx(12,12),t.YNc(13,S,2,0,"th",7),t.YNc(14,Y,2,1,"td",8),t.BQk(),t.ynx(15,13),t.YNc(16,Q,2,0,"th",7),t.YNc(17,b,2,1,"td",8),t.BQk(),t.ynx(18,14),t.YNc(19,M,2,0,"th",7),t.YNc(20,w,2,1,"td",8),t.BQk(),t.ynx(21,15),t.YNc(22,B,2,0,"th",7),t.YNc(23,R,2,1,"td",8),t.BQk(),t.ynx(24,16),t.YNc(25,F,2,0,"th",7),t.YNc(26,J,2,1,"td",8),t.BQk(),t.ynx(27,17),t.YNc(28,O,2,0,"th",10),t.YNc(29,$,7,0,"td",8),t.BQk(),t.ynx(30,18),t.YNc(31,j,2,0,"td",19),t.BQk(),t.ynx(32,20),t.YNc(33,E,2,0,"td",19),t.BQk(),t.YNc(34,q,1,0,"tr",21),t.YNc(35,z,1,0,"tr",22),t.YNc(36,H,1,3,"tr",23),t.YNc(37,k,1,3,"tr",23),t.qZA(),t._UZ(38,"mat-paginator",24),t.qZA()),2&n){const r=t.MAs(2);t.xp6(3),t.Q6J("ngIf",r.value),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(29),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(8,I)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(9,P)),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(10,G))("pageSize",5)}},directives:[d.KE,T.Nt,c.O5,x.lW,d.R9,v.Hw,a.BZ,l.YE,a.w1,a.fO,a.ge,l.nU,a.Dz,a.ev,a.mD,a.yh,a.as,a.XQ,a.nj,a.Gk,a.Ke,a.Q2,c.mk,f.NW],styles:["table[_ngcontent-%COMP%]{width:100%}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.hidden[_ngcontent-%COMP%]{display:none}.mat-column-first_name[_ngcontent-%COMP%]{padding-left:10px}"]}),e})(),V=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-edit"]],decls:2,vars:0,template:function(n,i){1&n&&(t.TgZ(0,"p"),t._uU(1,"user-edit works!"),t.qZA())},encapsulation:2}),e})();var _=s(6085);const W=[{path:"",component:C.p,children:[{path:"users-list",component:K,canActivate:[_.n],data:{title:"Users List",permission:"user_list"}},{path:"user-detail/:id",component:V,canActivate:[_.n],data:{title:"User Detail",permission:"user_edit"}},{path:"**",redirectTo:"users-list",pathMatch:"full"}]}];let X=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(W)],p.Bz]}),e})();var tt=s(5132);let et=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,X,tt.I]]}),e})()}}]);